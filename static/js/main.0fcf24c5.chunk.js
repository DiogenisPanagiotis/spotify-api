(this.webpackJsonptrove=this.webpackJsonptrove||[]).push([[0],{22:function(e,t,a){e.exports=a(49)},27:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(14),r=a.n(c),l=(a(27),a(2)),o=a.n(l),i=a(15),u=a(16),m=a(17),p=a(21),d=a(20),h=a(18),v=a.n(h),f=a(19),b=a.n(f),E=(a(48),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.getAuth()},e.getAuth=Object(i.a)(o.a.mark((function t(){var a,n,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},auth:{username:"4e2a6912b9e045808dbca2542fdf923c",password:"63fd10cdcb314cacb362454eacd4b803"}},n={grant_type:"client_credentials"},t.prev=2,t.next=5,v.a.post("https://accounts.spotify.com/api/token",b.a.stringify(n),a);case 5:s=t.sent,e.setState({token:s.data.access_token}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),e.handleSubmit=function(){var t=e.state,a=t.input,n=t.token,s=t.type;a&&fetch("https://api.spotify.com/v1/search?access_token=".concat(n,"&q=").concat(a,"&type=").concat(s,"&limit=10&market=US")).then((function(e){return e.json()})).then((function(t){console.log(t["".concat(s,"s")].items),e.setState({results:t["".concat(s,"s")].items})}))},e.handleInput=function(t){e.setState({input:t.target.value})},e.handleFilterType=function(t){e.setState({type:t.target.value})},e.handleSort=function(){var t=e.state.results.reverse();e.setState({results:t})},e.renderResults=function(){var t=e.state.results;return s.a.createElement("div",{className:"results"},t.map((function(e,t){var a=e.album?e.album:e,n=a.artists,c=a.images,r=a.name,l=a.release_date,o=c[0].url,i=n?n[0].name:null,u=l?"".concat(l.split("-")[0]):null;return s.a.createElement("div",{className:"result",key:t},s.a.createElement("img",{className:"result-image",src:o}),s.a.createElement("div",{className:"result-album"},r),i?s.a.createElement("div",{className:"result-artist"},i):"",l?s.a.createElement("div",{className:"result-date"},u):"")})))},e.state={input:"",token:"",type:"album",results:[]},e}return Object(m.a)(a,[{key:"render",value:function(){this.state.type;var e=this.renderResults();return s.a.createElement("div",{className:"app"},s.a.createElement("div",{className:"container-search"},s.a.createElement("div",{className:"subtitle"},"Search"),s.a.createElement("input",{placeholder:"Artists, Albums, Songs",className:"search",onChange:this.handleInput,onKeyPress:this.handleKeyPress}),s.a.createElement("select",{className:"filter",onChange:this.handleFilterType},s.a.createElement("option",{value:"album"},"Album"),s.a.createElement("option",{value:"artist"},"Artist"),s.a.createElement("option",{value:"track"},"Track")),s.a.createElement("div",{className:"submit",onClick:this.handleSubmit},"Search")),s.a.createElement("div",{className:"container-results"},s.a.createElement("div",{className:"subtitle"},"Results"),s.a.createElement("select",{className:"sort",onChange:this.handleSort},s.a.createElement("option",{value:"album"},"Ascending"),s.a.createElement("option",{value:"artist"},"Descending")),e))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.0fcf24c5.chunk.js.map